多线程忙等版

每个线程获得锁，查看，不符合条件再释放锁。一直处于此状态中。